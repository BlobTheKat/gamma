<!DOCTYPE html>
<html lang="en" style="background:#000">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, viewport-fit=cover">
	<title>&#8203;</title>
</head>
<script src="src/monolith.min.js"></script>
<script src="src/textfield.js"></script>
<script src="src/utils.js"></script>
<script>;{
	const $ = globalThis
	Gamma($).loop()
	const unint = `user-select:none;-webkit-user-select:none;touch-action: none;`
	glLost = () => {
		document.body.textContent = 'WebGL2 context lost :('
		document.body.style = 'color:white;background:#000;text-align:center;line-height:90vh;font-size:32px;font-family:monospace;cursor:normal;'+unint
		canvas.remove()
	}
	if(!gl) throw glLost(), 'Please reload app'
	document.documentElement.append(canvas)
	canvas.style = `position: fixed; inset: 0; width: 100%; height: 100%;`+unint
	$.resolver = (a) => {
		const url = new URL('.', a.url ?? a.href).href
		return (src, ...p) => {
			if(Array.isArray(src)){
				const a = [src[0]]
				for(let i = 0; i < p.length;) a.push(p[i], src[++i])
				src = a.join('')
			}
			return src[0]=='/'?src:url+src
		}
	}
	Gamma.input($)
	Gamma.font($)
	Gamma.capture($)
	Gamma.textfield($)
	Object.defineProperties($, {
		title: {get:()=>document.title,set:a=>document.title=a},
		icon: {get:()=>null,set:a=>1},
		[Symbol.toStringTag]: {value: 'Global', writable: false}
	})
	if(!opener) import('./cool_effect.js')
}</script>
</html>