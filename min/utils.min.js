{Object.defineProperties(Array.prototype,{best:{enumerable:!1,value(t,i=-1/0){let e;const s=this.length;for(let h=0;h<s;h++){const s=this[h],r=t(s,h,this);r>=i&&(i=r,e=s)}return e}},mmap:{enumerable:!1,value(t){const i=this.length;for(let e=0;e<i;e++)this[e]=t(this[e]);return this}},bind:{enumerable:!1,value(t,i=-1){if((i>>>=0)>=this.length)return this.push(t);let e;for(;i<this.length;)e=this[i],this[i++]=t,t=e;return this.push(e)}},fire:{enumerable:!1,value(...t){for(const i of this)try{i(...t)}catch(t){Promise.reject(t)}}},mapFire:{enumerable:!1,value(...t){const i=[];for(const e of this)try{i.push(e(...t))}catch(t){Promise.reject(t),i.push(void 0)}return i}},remove:{enumerable:!1,value(t){let i=this.indexOf(t);if(i>=0){for(;i<this.length;)this[i]=this[++i];this.pop()}return i}}}),globalThis.TypedArray??=Object.getPrototypeOf(Uint8Array),Uint8Array.fromHex=function(t){const i=new Uint8Array(t.length>>>1);let e=1,s=0;for(let h=0;h<t.length;h++){const r=t.charCodeAt(h);r>47&&r<58?e=e<<4|r-48:r>64&&r<71?e=e<<4|r-55:r>96&&r<103&&(e=e<<4|r-87),256&e&&(i[s++]=e,e=1)}return i.slice(0,s)},Uint16Array.fromHex=function(t){const i=new Uint16Array(t.length>>>2);let e=1,s=0;for(let h=0;h<t.length;h++){const r=t.charCodeAt(h);r>47&&r<58?e=e<<4|r-48:r>64&&r<71?e=e<<4|r-55:r>96&&r<103&&(e=e<<4|r-87),65536&e&&(i[s++]=e,e=1)}return i.slice(0,s)},globalThis.hsla=(t,i,e,s=1)=>{t*=1/30,t%=12,t+=12*(t<0);const h=i*(e<.5?e:1-e);return vec4(max(0,e-h*max(3-abs(t-6),-1)),max(0,e-h*max(3-abs(t+12*(t<4)-10),-1)),max(0,e-h*max(3-abs(t-12*(t>=8)-2),-1)),s)};const t="0123456789abcdef";Number.prototype.toHex=function(){return t[this>>>28]+t[this>>24&15]+t[this>>20&15]+t[this>>16&15]+t[this>>12&15]+t[this>>8&15]+t[this>>4&15]+t[15&this]},Number.formatData=t=>t<512?t.toFixed(0)+"B":t<524288?(t/1024).toFixed(1)+"KiB":t<536870912?(t/1048576).toFixed(1)+"MiB":t<549755813888?(t/1073741824).toFixed(1)+"GiB":(t/1099511627776).toFixed(1)+"TiB",Date.kebab=(t=new Date)=>`${t.getYear()+1900}-${("0"+t.getMonth()).slice(-2)}-${("0"+t.getDate()).slice(-2)}-at-${("0"+t.getHours()).slice(-2)}-${("0"+t.getMinutes()).slice(-2)}-${("0"+t.getSeconds()).slice(-2)}`,globalThis.randint??=Math.randint??=()=>4294967296*Math.random()|0;const i=document.createElement("a");globalThis.download=(t,e=t.name??("@"==t.type[0]?"file":t.type.split("/",1)[0]))=>{i.href=URL.createObjectURL(t),i.download=e,i.click(),URL.revokeObjectURL(i.href)};const{floor:e,trunc:s,fround:h}=Math,r="transfer"in ArrayBuffer.prototype?(t,i=0)=>{t.buf8=new Uint8Array((t.buf=new DataView(t.buf.buffer.transfer(t.cap=(t.cap<<1)+i))).buffer)}:(t,i=0)=>{const e=new Uint8Array(new ArrayBuffer(t.cap=(t.cap<<1)+i));e.set(t.buf8,0),t.buf=new DataView(e.buffer),t.buf8=e};let n=(t,i,e,s)=>(t.encode=i,t.decode=e,t.size=s,t);globalThis.Nanobuf={decoder:new TextDecoder,encoder:new TextEncoder,BufReader:class t extends DataView{constructor(t){t instanceof ArrayBuffer?super(t):super(t.buffer,t.byteOffset,t.byteLength),this.i=this.bitState=0}decode(t,i){return t.decode(this,i)}b1(){let t=this.bitState;if(t<2)try{t=256|this.getUint8(this.i++)}catch{t=256}return this.bitState=t>>1,1&t}b2(){let t=this.bitState;if(t<4)try{t=t&(t=+(t<2))|(256|this.getUint8(this.i++))<<t}catch{t=256<<t}return this.bitState=t>>2,3&t}b4(){let t=this.bitState;if(t<16){let i=-21936>>(t<<1)&3;try{t=t&7>>3-i|(256|this.getUint8(this.i++))<<i}catch{t=256<<i}}return this.bitState=t>>4,15&t}u8(){try{return this.getUint8(this.i++)}catch{return 0}}i8(){try{return this.getInt8(this.i++)}catch{return 0}}u16(){try{return this.getUint16((this.i+=2)-2)}catch{return 0}}i16(){try{return this.getInt16((this.i+=2)-2)}catch{return 0}}u24(){try{return this.getUint8(this.i)<<16|this.getUint16((this.i+=3)-2)}catch{return 0}}i24(){try{return this.getInt8(this.i)<<16|this.getUint16((this.i+=3)-2)}catch{return 0}}u32(){try{return this.getUint32((this.i+=4)-4)}catch{return 0}}i32(){try{return this.getInt32((this.i+=4)-4)}catch{return 0}}u48(){try{return 4294967296*this.getUint16((this.i+=6)-6)+this.getUint32(this.i-4)}catch{return 0}}i48(){try{return 4294967296*this.getInt16((this.i+=6)-6)+this.getUint32(this.i-4)}catch{return 0}}u64(){try{return 4294967296*this.getUint32((this.i+=8)-8)+this.getUint32(this.i-4)}catch{return 0}}i64(){try{return 4294967296*this.getInt32((this.i+=8)-8)+this.getUint32(this.i-4)}catch{return 0}}bu64(){try{return this.getBigUint64((this.i+=8)-8)}catch{return 0}}bi64(){try{return this.getBigInt64((this.i+=8)-8)}catch{return 0}}f32(){try{return this.getFloat32((this.i+=4)-4)}catch{return 0}}f64(){try{return this.getFloat64((this.i+=8)-8)}catch{return 0}}bool(){try{return 0!=this.getUint8(this.i++)}catch{return 0}}v64(){try{const t=this.getUint8(this.i++);return t<64?t:t>=128?4294967296*(2147483647&this.getUint32((this.i+=7)-8))+this.getUint32(this.i-4):t>=96?536870911&this.getUint32((this.i+=3)-4):this.getUint8(this.i++)|t<<8&8191}catch{return 0}}bv64(){try{let t=this.getUint8(this.i++);if(t>=64){if(t>=128)return 0x7FFFFFFFFFFFFFFFn&this.getBigUint64((this.i+=7)-8);t=t>=96?536870911&this.getUint32((this.i+=3)-4):this.getUint8(this.i++)|t<<8&8191}return BigInt(t)}catch{return 0}}v32(){try{const t=this.getUint8(this.i++);return t<64?t:t>=128?2147483647&this.getUint32((this.i+=3)-4):this.getUint8(this.i++)|t<<8&16383}catch{return 0}}v16(){try{const t=this.getUint8(this.i++);return t<128?t:this.getUint8(this.i++)|t<<8&16383}catch{return 0}}skip(t){this.i+=t}u8arr(t=-1){try{let i=this.i;return t<0&&(t=this.getUint8(i++))>=64&&(t>=128?(t=2147483647&this.getUint32(i),i+=3):t=this.getUint8(this.i++)|t<<8&16383),this.i=i+t,new Uint8Array(this.buffer.slice(i+=this.byteOffset,t))}catch{return new Uint8Array}}str(){let t=this.i,i=this.getUint8(t++);return i>=64&&(i>=128?(i=2147483647&this.getUint32(t),t+=3):i=this.getUint8(this.i++)|i<<8&16383),this.i=t+i,decoder.decode(new Uint8Array(this.buffer,this.byteOffset+t,i))}enum({intToStr:t,defaultString:i}){let e=this.getUint8(this.i++);return e>64&&(e=e>=128?2147483647&this.getUint32((this.i+=3)-4):this.getUint8(this.i++)|e<<8&16383),t[e]??i}view(t=0){return new Uint8Array(this.buffer,this.byteOffset+(this.i+=t)-t,t)}get read(){return this.i}get remaining(){return this.byteLength-this.i}get overran(){return this.i>this.byteLength}toUint8Array(){return new Uint8Array(this.buffer,this.byteOffset+this.i,this.byteLength-this.i)}copyReadToArrayBuffer(){return this.buffer.slice(this.byteOffset,this.byteOffset+this.i)}copyRemainingToArrayBuffer(){return this.buffer.slice(this.byteOffset+this.i,this.byteOffset+this.byteLength)}copyToWriter(){return new BufWriter(this.buffer.slice(this.byteOffset,this.byteOffset+this.i),this.i)}copy(){return new t(this.buffer.slice(this.byteOffset+this.i,this.byteOffset+this.byteLength))}[Symbol.for("nodejs.util.inspect.custom")](){let t=`BufReader(${this.byteLength-this.i}) [ [33m`,{i:i}=this;const e=i+50>this.byteLength?this.byteLength:i+50;for(;i<e;){const e=this.getUint8(i++);t+="0123456789abcdef"[e>>4]+"0123456789abcdef"[15&e]+" "}return t+`[m${this.byteLength>e?"... ":""}]`}},BufWriter:class t{constructor(t=new ArrayBuffer(64),i=0){this.buf=new DataView(t),this.buf8=new Uint8Array(t),this.i=i<=(this.cap=t.byteLength)?i:this.cap,this.bitState=0}encode(t,i){return t.encode(this,i)}b1(t=0){let i=this.bitState;7&i||(this.i>=this.cap&&r(this),i=this.i<<3,this.buf8[this.i++]=0),this.buf8[i>>>3]|=t<<(7&i),this.bitState=i+1}b2(t=0){let i=this.bitState,e=7&i;if(e){if(this.buf8[i>>>3]|=t<<e,e<7)return void(this.bitState=i+2);i=e=1}else i=2;this.i>=this.cap&&r(this),this.bitState=i|this.i<<3,this.buf8[this.i++]=t>>e}b4(t=0){let i=this.bitState,e=7&i;if(e){if(this.buf8[i>>>3]|=t<<e,e<5)return void(this.bitState=i+4);i=e-4,e=8-e}else i=4;this.i>=this.cap&&r(this),this.bitState=i|this.i<<3,this.buf8[this.i++]=t>>e}u8(t=0){this.i>=this.cap&&r(this),this.buf8[this.i++]=t}i8(t=0){this.i>=this.cap&&r(this),this.buf8[this.i++]=t}u16(t=0){(this.i+=2)>this.cap&&r(this),this.buf8[this.i-2]=t>>8,this.buf8[this.i-1]=t}i16(t=0){(this.i+=2)>this.cap&&r(this),this.buf8[this.i-2]=t>>8,this.buf8[this.i-1]=t}u24(t=0){(this.i+=3)>this.cap&&r(this),this.buf8[this.i-3]=t>>16,this.buf8[this.i-2]=t>>8,this.buf8[this.i-1]=t}i24(t=0){(this.i+=3)>this.cap&&r(this),this.buf8[this.i-3]=t>>16,this.buf8[this.i-2]=t>>8,this.buf8[this.i-1]=t}u32(t=0){(this.i+=4)>this.cap&&r(this),this.buf.setUint32(this.i-4,t)}i32(t=0){(this.i+=4)>this.cap&&r(this),this.buf.setInt32(this.i-4,t)}u48(t=0){(this.i+=6)>this.cap&&r(this),this.buf.setUint16(this.i-6,e(s(t)/4294967296)),this.buf.setInt32(this.i-4,0|t)}i48(t=0){(this.i+=6)>this.cap&&r(this),this.buf.setInt16(this.i-6,e(s(t)/4294967296)),this.buf.setInt32(this.i-4,0|t)}u64(t=0){(this.i+=8)>this.cap&&r(this),this.buf.setUint32(this.i-8,e(s(t)/4294967296)),this.buf.setInt32(this.i-4,0|t)}i64(t=0){(this.i+=8)>this.cap&&r(this),this.buf.setInt32(this.i-8,e(s(t)/4294967296)),this.buf.setInt32(this.i-4,0|t)}bu64(t=0n){(this.i+=8)>this.cap&&r(this),this.buf.setBigUint64(this.i-8,t)}bi64(t=0n){(this.i+=8)>this.cap&&r(this),this.buf.setBigInt64(this.i-8,t)}f32(t=0){(this.i+=4)>this.cap&&r(this),this.buf.setFloat32(this.i-4,t)}f64(t=0){(this.i+=8)>this.cap&&r(this),this.buf.setFloat64(this.i-8,t)}bool(t=!1){this.i>=this.cap&&r(this),this.buf8[this.i++]=t}v64(t=0){this.i>this.cap-8&&r(this),t>63?t>536870911?(this.buf.setUint32((this.i+=8)-8,2147483648|e(s(t)/4294967296)),this.buf.setInt32(this.i-4,0|t)):t>8191?this.buf.setInt32((this.i+=4)-4,1610612736|t):(this.buf8[this.i++]=t>>8|64,this.buf8[this.i++]=t):this.buf8[this.i++]=t<0?0:t}bv64(t=0n){this.i>this.cap-8&&r(this);const i=Number(t);i>63?i>536870911?this.buf.setBigUint64((this.i+=8)-8,0x8000000000000000n|t):i>0x1FFFn?this.buf.setInt32((this.i+=4)-4,1610612736|i):(this.buf8[this.i++]=i>>8|64,this.buf8[this.i++]=i):this.buf8[this.i++]=i<0?0:i}v32(t=0){this.i>this.cap-4&&r(this),t>63?t>16383?this.buf.setInt32((this.i+=4)-4,2147483648|t):(this.buf8[this.i++]=t>>8|64,this.buf8[this.i++]=t):this.buf8[this.i++]=t<0?0:t}v16(t=0){this.i>this.cap-2&&r(this),t>127?(this.buf8[this.i++]=t>>8|128,this.buf8[this.i++]=t):this.buf8[this.i++]=t>=0?t:0}u8arr(i,e=-1){if(!(i instanceof Uint8Array)){if(!(i instanceof t))return this.i>=this.cap&&r(this),void(this.buf8[this.i++]=0);i=i.buf8.subarray(0,i.i)}if(e<0){if((e=i.byteLength)>2147483647)return this.i>=this.cap&&r(this),void(this.buf8[this.i++]=0);this.i>this.cap-4-e&&r(this,e),e>16383?e>2147483647?this.buf8[this.i++]=e=0:this.buf.setInt32((this.i+=4)-4,2147483648|e):e>63?(this.buf8[this.i++]=e>>8|64,this.buf8[this.i++]=e):this.buf8[this.i++]=e}else this.i>this.cap-e&&r(this,e);this.buf8.set(i,this.i),this.i+=e}skip(t=0){(this.i+=t)>this.cap&&r(this,t)}str(t=""){this.i>this.cap-4&&r(this);const i=encoder.encode(t);let e=i.length;if(e>2147483647)return this.i>=this.cap&&r(this),void(this.buf8[this.i++]=0);this.i>this.cap-4-e&&r(this,e),e>16383?e>2147483647?this.buf8[this.i++]=e=0:this.buf.setInt32((this.i+=4)-4,2147483648|e):e>63?(this.buf8[this.i++]=e>>8|64,this.buf8[this.i++]=e):this.buf8[this.i++]=e,new Uint8Array(this.buffer).set(i,this.i),this.i+=e}enum({strToInt:t,default:i},e){this.i>this.cap-4&&r(this);const s=t.get(e)??i;s>63?s>16383?this.buf.setInt32((this.i+=4)-4,2147483648|s):(this.buf8[this.i++]=s>>8|64,this.buf8[this.i++]=s):this.buf8[this.i++]=s<0?0:s}get written(){return this.i}get buffer(){return this.buf.buffer}get byteOffset(){return 0}get byteLength(){return this.i}toUint8Array(){return this.buf8.subarray(0,this.i)}toReader(){return new BufReader(this)}copyToArrayBuffer(){return this.buf8.buffer.slice(0,this.i)}copy(){return new t(this.buf.buffer.slice(0,this.i),this.i)}copyToReader(){return new BufReader(this.buf8.buffer.slice(0,this.i))}[Symbol.for("nodejs.util.inspect.custom")](){let{i:t}=this,i=`BufWriter(${t}) [ ${t>50?(t-=50,"... "):(t=0,"")}[33m`;for(;t<this.i;){const e=this.buf8[t++];i+="0123456789abcdef"[e>>4]+"0123456789abcdef"[15&e]+" "}return i+"[m]"}},b1:n((t=0)=>+!!t,(t,i)=>t.b1(i),(t,i)=>t.b1(),0),b2:n((t=0)=>3&("number"==typeof t?t:Number(t)),(t,i)=>t.b2(i),(t,i)=>t.b2(),0),b4:n((t=0)=>15&("number"==typeof t?t:Number(t)),(t,i)=>t.b4(i),(t,i)=>t.b4(),0),u8:n((t=0)=>255&("number"==typeof t?t:Number(t)),(t,i)=>t.u8(i),(t,i)=>t.u8(),1),i8:n((t=0)=>("number"==typeof t?t:Number(t))<<24>>24,(t,i)=>t.i8(i),(t,i)=>t.i8(),1),u16:n((t=0)=>65535&("number"==typeof t?t:Number(t)),(t,i)=>t.u16(i),(t,i)=>t.u16(),2),i16:n((t=0)=>("number"==typeof t?t:Number(t))<<16>>16,(t,i)=>t.i16(i),(t,i)=>t.i16(),2),u24:n((t=0)=>16777215&("number"==typeof t?t:Number(t)),(t,i)=>t.u24(i),(t,i)=>t.u24(),3),i24:n((t=0)=>("number"==typeof t?t:Number(t))<<8>>8,(t,i)=>t.i24(i),(t,i)=>t.i24(),3),u32:n((t=0)=>("number"==typeof t?t:Number(t))>>>0,(t,i)=>t.u32(i),(t,i)=>t.u32(),4),i32:n((t=0)=>0|("number"==typeof t?t:Number(t)),(t,i)=>t.i32(i),(t,i)=>t.i32(),4),u48:n((t=0)=>4294967296*(65535&e(s(t="number"==typeof t?t:Number(t))/4294967296))+(t>>>0),(t,i)=>t.u48(i),(t,i)=>t.u48(),6),i48:n((t=0)=>4294967296*(e(s(t="number"==typeof t?t:Number(t))/4294967296)<<16>>16)+(t>>>0),(t,i)=>t.i48(i),(t,i)=>t.i48(),6),u64:n((t=0)=>4294967296*(e(s(t="number"==typeof t?t:Number(t))/4294967296)>>>0)+(t>>>0),(t,i)=>t.u64(i),(t,i)=>t.u64(),8),i64:n((t=0)=>4294967296*(0|e(s(t="number"==typeof t?t:Number(t))/4294967296))+(t>>>0),(t,i)=>t.i64(i),(t,i)=>t.i64(),8),bu64:n((t=0n)=>0xFFFFFFFFFFFFFFFFn&("bigint"==typeof t?t:BigInt(t)),(t,i)=>t.bu64(i),(t,i)=>t.bu64(),8),bi64:n((t=0n)=>BigInt.asIntN(64,"bigint"==typeof t?t:BigInt(t)),(t,i)=>t.bi64(i),(t,i)=>t.bi64(),8),f32:n((t=0)=>h("number"==typeof t?t:Number(t)),(t,i)=>t.f32(i),(t,i)=>t.f32(),4),f64:n((t=0)=>"number"==typeof t?t:Number(t),(t,i)=>t.f64(i),(t,i)=>t.f64(),8),v16:n((t=0)=>(t="number"==typeof t?t:Number(t))<0?0:32767&t,(t,i)=>t.v16(i),(t,i)=>t.v16(),1),v32:n((t=0)=>(t="number"==typeof t?t:Number(t))<0?0:2147483647&t,(t,i)=>t.v32(i),(t,i)=>t.v32(),1),v64:n((t=0)=>("number"==typeof t?t:Number(t))<0?0:t%0x8000000000000000,(t,i)=>t.v32(i),(t,i)=>t.v32(),1),bv64:n((t=0n)=>("bigint"==typeof t?t:BigInt(t))<0n?0n:0x7FFFFFFFFFFFFFFFn&t,(t,i)=>t.v32(i),(t,i)=>t.v32(),1),u8arr:n(t=>{try{const i="string"==typeof t?encoder.encode(t):new Uint8Array(t.buffer?t.buffer.slice(t.byteOffset,t.byteLength):t instanceof ArrayBuffer?t.slice(0,2147483647):t);return i.byteLength>2147483647?i.subarray(0,2147483647):i}catch{return new Uint8Array}},(t,i)=>t.u8arr(i),(t,i)=>t.u8arr(),1),str:n((t="")=>t+"",(t,i)=>t.str(i),(t,i)=>t.str(),1),bool:n(t=>!!t,(t,i)=>t.bool(i),(t,i)=>t.bool(),1),Struct:(t,i)=>{const e=[],s=[],h=[],r=[],n=[];let u=0,f=0;const b={};for(const i in t){let a=/^[a-zA-Z$_][a-zA-Z0-9$_]*$/.test(i)?i:JSON.stringify(i);e.push(a+":a"+u),s.push(a+":this.a"+u+"(a"+u+")"),h.push("this.a"+u+".encode(b,a"+u+")"),n.push(a+":this.a"+u+".decode(b)"),a=a.length==i.length?"v."+a:"v["+a+"]",r.push(a+"=this.a"+u+".decode(b,"+a+")"),f+=(b["a"+u++]=t[i]).size??0}const a=`return{${s}}`;return i??=new Function(`{${e}}={}`,a).bind(b),i.encode=new Function(`b,{${e}}={}`,h.join(";")).bind(b),i.decode=new Function("b,v",`if(!v)return {${n}};${r.join(";")};return v`).bind(b),i.size=f,i.of=new Function(Object.keys(b),a).bind(b),i},Arr:(t,i=-1)=>{(i=e(i))>=0||(i=-1);const s=n(e=>{const s=[];try{for(const i of e)s.push(t(i))}catch{}if(i>=0)if(s.length>i)s.length=i;else for(;s.length<i;)s.push(t());else s.length>2147483647&&(s.length=2147483647);return s},(e,s=[])=>{const h=i<0?(e.v32(s.length),s.length):i;for(let i=0;i<h;i++)t.encode(e,s[i])},(e,s)=>{const h=i<0?e.v32():i;if(s)for(let i=0;i<h;i++)s[i]=t.decode(e,s[i]);else{s=[];for(let i=h;--i>=0;)s.push(t.decode(e))}return s},i<0?1:(t.size??0)*i);return s.of=(...t)=>s(t),s},Optional:t=>n(i=>null==i?null:t(i),(i,e)=>{null==e?i.u8(0):(i.u8(1),t.encode(i,e))},(i,e)=>i.u8()?t.decode(i,e):null,1),Enum:(t=[],i=void 0)=>{const e=new Map,s=[];if(Array.isArray(t))for(let i=0;i<t.length;i++)e.set(t[i]+"",i),s[i]=t[i];else for(const i in t){const h=2147483647&t[i];e.set(i,h),s[h]=i}"string"!=typeof i&&(i=e.keys().next().value??"");let h=-1;for(;s[++h];);const r=n(t=>"string"==typeof t?e.get(t)??h:2147483647&Number(t),(t,i)=>t.v32("string"==typeof i?e.get(i)??h:i),(t,e)=>s[t.v32()]??i,1);return r.strToInt=e,r.intToStr=s,r.default=h,r.defaultString=i,r},Padding:(t=0)=>n(()=>{},(i,e)=>i.skip(t),(i,e)=>{i.i+=t},t)},globalThis.Nanobuf.u8arr.len=t=>((t=e(t))>=0||(t=0),n(i=>i instanceof ArrayBuffer?new Uint8Array(i.byteLength>=t?i.slice(0,t):t):new Uint8Array(i?.length===t?i:t),(i,e)=>i.u8arr(e,t),(i,e)=>i.u8arr(t),t)),globalThis.loader=({url:t})=>(t=t.slice(0,t.lastIndexOf("/")+1),(...i)=>{if(i[0].raw){const e=[i[0][0]];for(let t=1;t<=i.length;t++)e.push(i[t],i[0][t]);const s=e.join("");return"/"==s[0]?s:t+s}return 1==i.length?"/"==i[0][0]?i[0]:t+i[0]:i.map(i=>"/"==i[0]?i:t+i)}),Array.map??=(t=0,i)=>{const e=[];for(let s=0;s<t;s++)e.push(i(s));return e},Gamma.utils=t=>{Object.assign(t,Nanobuf),t.screenshot=(i="image/png",e)=>new Promise(s=>requestAnimationFrame(()=>t.canvas.toBlob(s,i,e)))}}